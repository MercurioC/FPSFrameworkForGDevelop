{
  "associatedLayout": "sandbox",
  "name": "entity_manager",
  "events": [
    {
      "colorB": 5,
      "colorG": 117,
      "colorR": 65,
      "creationTime": 0,
      "name": "Entity Manager",
      "source": "",
      "type": "BuiltinCommonInstructions::Group",
      "events": [],
      "parameters": []
    },
    {
      "type": "BuiltinCommonInstructions::Comment",
      "color": {
        "b": 109,
        "g": 230,
        "r": 255,
        "textB": 0,
        "textG": 0,
        "textR": 0
      },
      "comment": "* Entities are stuff that works in conjunction with a linked Trigger, activated by the Player"
    },
    {
      "type": "BuiltinCommonInstructions::Comment",
      "color": {
        "b": 109,
        "g": 230,
        "r": 255,
        "textB": 0,
        "textG": 0,
        "textR": 0
      },
      "comment": "* Initialize"
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "value": "BuiltinCommonInstructions::Once"
          },
          "parameters": []
        }
      ],
      "actions": [
        {
          "type": {
            "value": "SetBooleanObjectVariable"
          },
          "parameters": [
            "zone_trigger",
            "isActivated",
            "False",
            ""
          ]
        }
      ]
    },
    {
      "colorB": 228,
      "colorG": 176,
      "colorR": 74,
      "creationTime": 0,
      "name": "0. Debug",
      "source": "",
      "type": "BuiltinCommonInstructions::Group",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "* Debug"
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "Raycaster3D::RaycastFromCameraCenter"
              },
              "parameters": [
                "",
                "zone_trigger",
                "512",
                ""
              ]
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "StringObjectVariable"
                  },
                  "parameters": [
                    "zone_trigger",
                    "type",
                    "=",
                    "\"button\""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "TextContainerCapability::TextContainerBehavior::SetValue"
                  },
                  "parameters": [
                    "dev_text3",
                    "Text",
                    "=",
                    "zone_trigger.id + \" ; \" + ent_button.id + \" ; \" + ent_button.linked"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "StringObjectVariable"
                  },
                  "parameters": [
                    "zone_trigger",
                    "type",
                    "=",
                    "\"teleport\""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "TextContainerCapability::TextContainerBehavior::SetValue"
                  },
                  "parameters": [
                    "dev_text3",
                    "Text",
                    "=",
                    "zone_trigger.id + \" ; \" + ent_teleporter.id + \" ; \" + ent_teleporter.linked"
                  ]
                }
              ]
            }
          ]
        }
      ],
      "parameters": []
    },
    {
      "colorB": 228,
      "colorG": 176,
      "colorR": 74,
      "creationTime": 0,
      "folded": true,
      "name": "1. Link Triggers",
      "source": "",
      "type": "BuiltinCommonInstructions::Group",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "* Create & Link Trigger Zones with their associated Object"
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BooleanVariable"
              },
              "parameters": [
                "game_changeLevel",
                "True",
                ""
              ]
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "* Buttons"
            },
            {
              "type": "BuiltinCommonInstructions::ForEach",
              "object": "ent_button",
              "conditions": [],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "BuiltinCommonInstructions::Once"
                      },
                      "parameters": []
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "Create"
                      },
                      "parameters": [
                        "",
                        "zone_trigger",
                        "ent_button.X()",
                        "ent_button.Y()",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "Scene3D::Base3DBehavior::SetZ"
                      },
                      "parameters": [
                        "zone_trigger",
                        "Object3D",
                        "=",
                        "ent_button.Object3D::Z()"
                      ]
                    },
                    {
                      "type": {
                        "value": "MettreAutour"
                      },
                      "parameters": [
                        "zone_trigger",
                        "ent_button",
                        "- 24",
                        "ent_button.Angle()"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetAngle"
                      },
                      "parameters": [
                        "zone_trigger",
                        "=",
                        "ent_button.Angle()"
                      ]
                    },
                    {
                      "type": {
                        "value": "ResizableCapability::ResizableBehavior::SetWidth"
                      },
                      "parameters": [
                        "zone_trigger",
                        "Resizable",
                        "=",
                        "48"
                      ]
                    },
                    {
                      "type": {
                        "value": "ResizableCapability::ResizableBehavior::SetHeight"
                      },
                      "parameters": [
                        "zone_trigger",
                        "Resizable",
                        "=",
                        "48"
                      ]
                    },
                    {
                      "type": {
                        "value": "Scene3D::Base3DBehavior::SetDepth"
                      },
                      "parameters": [
                        "zone_trigger",
                        "Object3D",
                        "=",
                        "ent_button.Object3D::Depth() * 2"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetStringObjectVariable"
                      },
                      "parameters": [
                        "zone_trigger",
                        "type",
                        "=",
                        "\"button\""
                      ]
                    },
                    {
                      "type": {
                        "value": "SetNumberObjectVariable"
                      },
                      "parameters": [
                        "zone_trigger",
                        "id",
                        "=",
                        "ent_button.id"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "StringObjectVariable"
                      },
                      "parameters": [
                        "zone_trigger",
                        "type",
                        "=",
                        "\"button\""
                      ]
                    },
                    {
                      "type": {
                        "value": "NumberObjectVariable"
                      },
                      "parameters": [
                        "zone_trigger",
                        "id",
                        "=",
                        "ent_button.id"
                      ]
                    },
                    {
                      "type": {
                        "value": "BuiltinCommonInstructions::Once"
                      },
                      "parameters": []
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "LinkedObjects::LinkObjects"
                      },
                      "parameters": [
                        "",
                        "zone_trigger",
                        "ent_button"
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "* Elevators"
            },
            {
              "type": "BuiltinCommonInstructions::ForEach",
              "object": "ent_elevator",
              "conditions": [],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "StringObjectVariable"
                      },
                      "parameters": [
                        "zone_trigger",
                        "type",
                        "=",
                        "\"elevator\""
                      ]
                    },
                    {
                      "type": {
                        "value": "NumberObjectVariable"
                      },
                      "parameters": [
                        "zone_trigger",
                        "id",
                        "=",
                        "ent_elevator.id"
                      ]
                    },
                    {
                      "type": {
                        "value": "BuiltinCommonInstructions::Once"
                      },
                      "parameters": []
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "LinkedObjects::LinkObjects"
                      },
                      "parameters": [
                        "",
                        "zone_trigger",
                        "ent_elevator"
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "* Teleports"
            },
            {
              "type": "BuiltinCommonInstructions::ForEach",
              "object": "ent_teleporter",
              "conditions": [],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "* Create a Trigger inside the Teleport with the same ID and Link it"
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "BuiltinCommonInstructions::Once"
                      },
                      "parameters": []
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "Create"
                      },
                      "parameters": [
                        "",
                        "zone_trigger",
                        "ent_teleporter.X()",
                        "ent_teleporter.Y()",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "Scene3D::Base3DBehavior::SetZ"
                      },
                      "parameters": [
                        "zone_trigger",
                        "Object3D",
                        "=",
                        "ent_teleporter.Object3D::Z()"
                      ]
                    },
                    {
                      "type": {
                        "value": "ResizableCapability::ResizableBehavior::SetWidth"
                      },
                      "parameters": [
                        "zone_trigger",
                        "Resizable",
                        "=",
                        "48"
                      ]
                    },
                    {
                      "type": {
                        "value": "ResizableCapability::ResizableBehavior::SetHeight"
                      },
                      "parameters": [
                        "zone_trigger",
                        "Resizable",
                        "=",
                        "48"
                      ]
                    },
                    {
                      "type": {
                        "value": "Scene3D::Base3DBehavior::SetDepth"
                      },
                      "parameters": [
                        "zone_trigger",
                        "Object3D",
                        "=",
                        "ent_teleporter.Object3D::Depth() * 2"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetStringObjectVariable"
                      },
                      "parameters": [
                        "zone_trigger",
                        "type",
                        "=",
                        "\"teleport\""
                      ]
                    },
                    {
                      "type": {
                        "value": "SetNumberObjectVariable"
                      },
                      "parameters": [
                        "zone_trigger",
                        "id",
                        "=",
                        "ent_teleporter.id"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "StringObjectVariable"
                      },
                      "parameters": [
                        "zone_trigger",
                        "type",
                        "=",
                        "\"teleport\""
                      ]
                    },
                    {
                      "type": {
                        "value": "NumberObjectVariable"
                      },
                      "parameters": [
                        "zone_trigger",
                        "id",
                        "=",
                        "ent_teleporter.id"
                      ]
                    },
                    {
                      "type": {
                        "value": "BuiltinCommonInstructions::Once"
                      },
                      "parameters": []
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "LinkedObjects::LinkObjects"
                      },
                      "parameters": [
                        "",
                        "zone_trigger",
                        "ent_teleporter"
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ],
      "parameters": []
    },
    {
      "colorB": 228,
      "colorG": 176,
      "colorR": 74,
      "creationTime": 0,
      "name": "2. Buttons",
      "source": "",
      "type": "BuiltinCommonInstructions::Group",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "* Buttons can be pressed by the Player when using the Interact key in front of them;  they can be useful for triggering dynamic events, such as unlocking doors for example"
        },
        {
          "type": "BuiltinCommonInstructions::ForEach",
          "object": "zone_trigger",
          "conditions": [
            {
              "type": {
                "value": "LinkedObjects::PickObjectsLinkedTo"
              },
              "parameters": [
                "",
                "ent_button",
                "zone_trigger",
                ""
              ]
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "* Check if it's linked"
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Once"
                  },
                  "parameters": []
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetBooleanObjectVariable"
                  },
                  "parameters": [
                    "ent_button",
                    "linked",
                    "True",
                    ""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "* Player is inside Trigger, press Interact -> Activate Button"
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "ObjectInteractions::ZoneCollision"
                  },
                  "parameters": [
                    "",
                    "player_hitbox",
                    "zone_trigger",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "StringObjectVariable"
                  },
                  "parameters": [
                    "zone_trigger",
                    "type",
                    "=",
                    "\"button\""
                  ]
                },
                {
                  "type": {
                    "value": "NumberObjectVariable"
                  },
                  "parameters": [
                    "zone_trigger",
                    "id",
                    "=",
                    "ent_button.id"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetBooleanObjectVariable"
                  },
                  "parameters": [
                    "player_hitbox",
                    "canInteract",
                    "True",
                    ""
                  ]
                }
              ],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "* Button is pressed --> its Trigger is now active"
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "KeyFromTextPressed"
                      },
                      "parameters": [
                        "",
                        "\"e\""
                      ]
                    },
                    {
                      "type": {
                        "value": "BuiltinCommonInstructions::Once"
                      },
                      "parameters": []
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetBooleanObjectVariable"
                      },
                      "parameters": [
                        "ent_button",
                        "isActivated",
                        "True",
                        ""
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "* Set the Button activated Animation"
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "BooleanObjectVariable"
                  },
                  "parameters": [
                    "ent_button",
                    "isActivated",
                    "True",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Once"
                  },
                  "parameters": []
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "AnimatableCapability::AnimatableBehavior::SetName"
                  },
                  "parameters": [
                    "ent_button",
                    "Animation",
                    "=",
                    "\"button_activate\""
                  ]
                },
                {
                  "type": {
                    "value": "AnimatableCapability::AnimatableBehavior::PlayAnimation"
                  },
                  "parameters": [
                    "ent_button",
                    "Animation"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "* Set Animation back to Idle when finished"
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "AnimatableCapability::AnimatableBehavior::Name"
                  },
                  "parameters": [
                    "ent_button",
                    "Animation",
                    "=",
                    "\"button_activate\""
                  ]
                },
                {
                  "type": {
                    "value": "AnimatableCapability::AnimatableBehavior::HasAnimationEnded"
                  },
                  "parameters": [
                    "ent_button",
                    "Animation"
                  ]
                },
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Once"
                  },
                  "parameters": []
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "AnimatableCapability::AnimatableBehavior::SetName"
                  },
                  "parameters": [
                    "ent_button",
                    "Animation",
                    "=",
                    "\"button_idle\""
                  ]
                },
                {
                  "type": {
                    "value": "AnimatableCapability::AnimatableBehavior::PlayAnimation"
                  },
                  "parameters": [
                    "ent_button",
                    "Animation"
                  ]
                },
                {
                  "type": {
                    "value": "SetBooleanObjectVariable"
                  },
                  "parameters": [
                    "ent_button",
                    "isActivated",
                    "False",
                    ""
                  ]
                }
              ]
            }
          ]
        }
      ],
      "parameters": []
    },
    {
      "colorB": 228,
      "colorG": 176,
      "colorR": 74,
      "creationTime": 0,
      "folded": true,
      "name": "3. Elevators",
      "source": "",
      "type": "BuiltinCommonInstructions::Group",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 27,
            "g": 2,
            "r": 208,
            "textB": 255,
            "textG": 255,
            "textR": 255
          },
          "comment": "*** BUG *** Triggering two Elevators at the same time locks them"
        },
        {
          "type": "BuiltinCommonInstructions::ForEach",
          "object": "zone_trigger",
          "conditions": [
            {
              "type": {
                "value": "LinkedObjects::PickObjectsLinkedTo"
              },
              "parameters": [
                "",
                "ent_elevator",
                "zone_trigger",
                ""
              ]
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "* Define the first movement state"
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "StringObjectVariable"
                  },
                  "parameters": [
                    "ent_elevator",
                    "direction",
                    "=",
                    "\"up\""
                  ]
                },
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Once"
                  },
                  "parameters": []
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetStringObjectVariable"
                  },
                  "parameters": [
                    "ent_elevator",
                    "direction",
                    "=",
                    "\"down_stop\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "StringObjectVariable"
                  },
                  "parameters": [
                    "ent_elevator",
                    "direction",
                    "=",
                    "\"down\""
                  ]
                },
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Once"
                  },
                  "parameters": []
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetStringObjectVariable"
                  },
                  "parameters": [
                    "ent_elevator",
                    "direction",
                    "=",
                    "\"up_stop\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "* Player is inside Trigger, press Interact -> Activate Elevator"
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "NumberObjectVariable"
                  },
                  "parameters": [
                    "zone_trigger",
                    "id",
                    "=",
                    "ent_elevator.id"
                  ]
                },
                {
                  "type": {
                    "value": "StringObjectVariable"
                  },
                  "parameters": [
                    "zone_trigger",
                    "type",
                    "=",
                    "\"elevator\""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetBooleanObjectVariable"
                  },
                  "parameters": [
                    "player_hitbox",
                    "canInteract",
                    "True",
                    ""
                  ]
                }
              ],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "inverted": true,
                        "value": "CollisionPoint"
                      },
                      "parameters": [
                        "zone_trigger",
                        "player_hitbox.X()",
                        "player_hitbox.Y()"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetBooleanObjectVariable"
                      },
                      "parameters": [
                        "player_hitbox",
                        "canInteract",
                        "False",
                        ""
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "CollisionPoint"
                      },
                      "parameters": [
                        "zone_trigger",
                        "player_hitbox.X()",
                        "player_hitbox.Y()"
                      ]
                    }
                  ],
                  "actions": [],
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "KeyFromTextPressed"
                          },
                          "parameters": [
                            "",
                            "\"e\""
                          ]
                        },
                        {
                          "type": {
                            "value": "BuiltinCommonInstructions::Once"
                          },
                          "parameters": []
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "SetBooleanObjectVariable"
                          },
                          "parameters": [
                            "ent_elevator",
                            "isActivated",
                            "True",
                            ""
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "* When activated, set the Direction of movement"
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "BooleanObjectVariable"
                      },
                      "parameters": [
                        "ent_elevator",
                        "isActivated",
                        "True",
                        ""
                      ]
                    }
                  ],
                  "actions": [],
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "StringObjectVariable"
                          },
                          "parameters": [
                            "ent_elevator",
                            "direction",
                            "=",
                            "\"down_stop\""
                          ]
                        },
                        {
                          "type": {
                            "value": "BuiltinCommonInstructions::Once"
                          },
                          "parameters": []
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "SetStringObjectVariable"
                          },
                          "parameters": [
                            "ent_elevator",
                            "direction",
                            "=",
                            "\"up_moving\""
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "StringObjectVariable"
                          },
                          "parameters": [
                            "ent_elevator",
                            "direction",
                            "=",
                            "\"up_stop\""
                          ]
                        },
                        {
                          "type": {
                            "value": "BuiltinCommonInstructions::Once"
                          },
                          "parameters": []
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "SetStringObjectVariable"
                          },
                          "parameters": [
                            "ent_elevator",
                            "direction",
                            "=",
                            "\"down_moving\""
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "* Move Up/Down by defined Height and Time"
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "StringObjectVariable"
                      },
                      "parameters": [
                        "ent_elevator",
                        "direction",
                        "=",
                        "\"up_moving\""
                      ]
                    },
                    {
                      "type": {
                        "value": "BuiltinCommonInstructions::Once"
                      },
                      "parameters": []
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "Tween::AddObjectPositionZTween2"
                      },
                      "parameters": [
                        "ent_elevator",
                        "Tween",
                        "Object3D",
                        "\"elevator_moveUp\"",
                        "ent_elevator.Object3D::Z() + ent_elevator.elevationHeight",
                        "\"linear\"",
                        "ent_elevator.elevationTime",
                        ""
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "StringObjectVariable"
                      },
                      "parameters": [
                        "ent_elevator",
                        "direction",
                        "=",
                        "\"down_moving\""
                      ]
                    },
                    {
                      "type": {
                        "value": "BuiltinCommonInstructions::Once"
                      },
                      "parameters": []
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "Tween::AddObjectPositionZTween2"
                      },
                      "parameters": [
                        "ent_elevator",
                        "Tween",
                        "Object3D",
                        "\"elevator_moveDown\"",
                        "ent_elevator.Object3D::Z() - ent_elevator.elevationHeight",
                        "\"linear\"",
                        "ent_elevator.elevationTime",
                        ""
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "* Stop the Movement, reset"
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "Tween::HasFinished"
                      },
                      "parameters": [
                        "ent_elevator",
                        "Tween",
                        "\"elevator_moveUp\""
                      ]
                    },
                    {
                      "type": {
                        "value": "BuiltinCommonInstructions::Once"
                      },
                      "parameters": []
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetBooleanObjectVariable"
                      },
                      "parameters": [
                        "ent_elevator",
                        "isActivated",
                        "False",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "SetStringObjectVariable"
                      },
                      "parameters": [
                        "ent_elevator",
                        "direction",
                        "=",
                        "\"up_stop\""
                      ]
                    },
                    {
                      "type": {
                        "value": "Tween::RemoveTween"
                      },
                      "parameters": [
                        "ent_elevator",
                        "Tween",
                        "\"elevator_moveUp\""
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "Tween::HasFinished"
                      },
                      "parameters": [
                        "ent_elevator",
                        "Tween",
                        "\"elevator_moveDown\""
                      ]
                    },
                    {
                      "type": {
                        "value": "BuiltinCommonInstructions::Once"
                      },
                      "parameters": []
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetBooleanObjectVariable"
                      },
                      "parameters": [
                        "ent_elevator",
                        "isActivated",
                        "False",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "SetStringObjectVariable"
                      },
                      "parameters": [
                        "ent_elevator",
                        "direction",
                        "=",
                        "\"down_stop\""
                      ]
                    },
                    {
                      "type": {
                        "value": "Tween::RemoveTween"
                      },
                      "parameters": [
                        "ent_elevator",
                        "Tween",
                        "\"elevator_moveDown\""
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "* Debug"
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "Raycaster3D::RaycastFromCameraCenter"
                  },
                  "parameters": [
                    "",
                    "ent_elevator",
                    "256",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "TextContainerCapability::TextContainerBehavior::SetValue"
                  },
                  "parameters": [
                    "dev_text3",
                    "Text",
                    "=",
                    "zone_trigger.id + \" ; \" +\nent_elevator.id + \" ; \" +\nent_elevator.direction + \" ; \" +\nplayer_hitbox.canInteract + \" ; \" +\nToString(ent_elevator.Tween::Progress(\"elevator_moveUp\")) + \" ; \" +\nToString(ent_elevator.Tween::Value(\"elevator_moveUp\"))"
                  ]
                }
              ]
            }
          ]
        }
      ],
      "parameters": []
    },
    {
      "colorB": 228,
      "colorG": 176,
      "colorR": 74,
      "creationTime": 0,
      "folded": true,
      "name": "4. Teleports",
      "source": "",
      "type": "BuiltinCommonInstructions::Group",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "* Teleports the Player immediately on contact by a determined Offset; here it's hardcoded for the Hazard Course, but it can easily be changed"
        },
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "* Start by initiating the Teleporter FX effect"
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "DepartScene"
              },
              "parameters": [
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "OpacityCapability::OpacityBehavior::SetValue"
              },
              "parameters": [
                "fx_teleportTransition",
                "Opacity",
                "=",
                "0"
              ]
            },
            {
              "type": {
                "value": "MettreXY"
              },
              "parameters": [
                "fx_teleportTransition",
                "=",
                "0",
                "=",
                "0"
              ]
            },
            {
              "type": {
                "value": "ResizableCapability::ResizableBehavior::SetSize"
              },
              "parameters": [
                "fx_teleportTransition",
                "Resizable",
                "ScreenWidth()",
                "ScreenHeight()"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::ForEach",
          "object": "zone_trigger",
          "conditions": [
            {
              "type": {
                "value": "LinkedObjects::PickObjectsLinkedTo"
              },
              "parameters": [
                "",
                "ent_teleporter",
                "zone_trigger",
                ""
              ]
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "* Check if it's linked"
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Once"
                  },
                  "parameters": []
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetBooleanObjectVariable"
                  },
                  "parameters": [
                    "ent_teleporter",
                    "linked",
                    "True",
                    ""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "* Player is inside Trigger, activate the Teleport"
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "ObjectInteractions::ZoneCollision"
                  },
                  "parameters": [
                    "",
                    "player_hitbox",
                    "zone_trigger",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "StringObjectVariable"
                  },
                  "parameters": [
                    "zone_trigger",
                    "type",
                    "=",
                    "\"teleport\""
                  ]
                },
                {
                  "type": {
                    "value": "NumberObjectVariable"
                  },
                  "parameters": [
                    "zone_trigger",
                    "id",
                    "=",
                    "ent_teleporter.id"
                  ]
                },
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Once"
                  },
                  "parameters": []
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetBooleanObjectVariable"
                  },
                  "parameters": [
                    "ent_teleporter",
                    "isActivated",
                    "True",
                    ""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "* Teleport activated: activate a Transition effect, then change the position of the Player"
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "BooleanObjectVariable"
                  },
                  "parameters": [
                    "ent_teleporter",
                    "isActivated",
                    "True",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Once"
                  },
                  "parameters": []
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "Tween::TweenBehavior::AddObjectOpacityTween2"
                  },
                  "parameters": [
                    "fx_teleportTransition",
                    "Tween",
                    "\"teleportTransition_on\"",
                    "160",
                    "\"linear\"",
                    "0.1",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "MettreXY"
                  },
                  "parameters": [
                    "player_hitbox",
                    "-",
                    "848",
                    "+",
                    "512"
                  ]
                },
                {
                  "type": {
                    "value": "PlaySound"
                  },
                  "parameters": [
                    "",
                    "sfx_checkpoint.wav",
                    "",
                    "80",
                    "1.2"
                  ]
                },
                {
                  "type": {
                    "value": "SetBooleanObjectVariable"
                  },
                  "parameters": [
                    "ent_teleporter",
                    "isActivated",
                    "False",
                    ""
                  ]
                }
              ],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "* Check also if it's placed inside the Hazard Course, gain +1 Checkpoint to the completition of the Quest 1"
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "StringVariable"
                      },
                      "parameters": [
                        "game_currentLevel",
                        "=",
                        "\"movementTest\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetNumberVariable"
                      },
                      "parameters": [
                        "quest1_checkpoint",
                        "+",
                        "1"
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "* Reset the opacity of the Teleport transition effect"
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "Tween::HasFinished"
                  },
                  "parameters": [
                    "fx_teleportTransition",
                    "Tween",
                    "\"teleportTransition_on\""
                  ]
                },
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Once"
                  },
                  "parameters": []
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "Tween::TweenBehavior::AddObjectOpacityTween2"
                  },
                  "parameters": [
                    "fx_teleportTransition",
                    "Tween",
                    "\"teleportTransition_off\"",
                    "0",
                    "\"linear\"",
                    "0.1",
                    ""
                  ]
                }
              ]
            }
          ]
        }
      ],
      "parameters": []
    },
    {
      "colorB": 228,
      "colorG": 176,
      "colorR": 74,
      "creationTime": 0,
      "folded": true,
      "name": "5. Damage Zones",
      "source": "",
      "type": "BuiltinCommonInstructions::Group",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "* When entering a Damage Zone, the Player receives damage determined by the \"damage\" variable"
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "ObjectInteractions::ZoneCollision"
              },
              "parameters": [
                "",
                "player_hitbox",
                "zone_damage",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Health::Health::Hit"
              },
              "parameters": [
                "player_hitbox",
                "Health",
                "zone_damage.damage",
                "",
                "",
                ""
              ]
            }
          ]
        }
      ],
      "parameters": []
    },
    {
      "colorB": 228,
      "colorG": 176,
      "colorR": 74,
      "creationTime": 0,
      "folded": true,
      "name": "6. Message Zones",
      "source": "",
      "type": "BuiltinCommonInstructions::Group",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "* Writes Messages when entering in their respective Zones. Those can be modified using their vars. Useful for Tutorials and guiding the Player"
        },
        {
          "type": "BuiltinCommonInstructions::ForEach",
          "object": "zone_message",
          "conditions": [],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "* Hide the Text when off the Message Zone"
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "inverted": true,
                    "value": "ObjectInteractions::ZoneCollision"
                  },
                  "parameters": [
                    "",
                    "player_hitbox",
                    "zone_message",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "Cache"
                  },
                  "parameters": [
                    "zone_textObject"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "* When entering a Message Zone, a message appear on-screen. Determine its position using the offsetX/Y/Z variables"
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "ObjectInteractions::ZoneCollision"
                  },
                  "parameters": [
                    "",
                    "player_hitbox",
                    "zone_message",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "Montre"
                  },
                  "parameters": [
                    "zone_textObject",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "BBText::SetBBText"
                  },
                  "parameters": [
                    "zone_textObject",
                    "=",
                    "zone_message.textMessage"
                  ]
                },
                {
                  "type": {
                    "value": "A3F::OverlapObjects"
                  },
                  "parameters": [
                    "",
                    "zone_textObject",
                    "",
                    "zone_message",
                    "Object3D",
                    "zone_message.offsetX",
                    "zone_message.offsetY",
                    "zone_message.offsetZ",
                    ""
                  ]
                }
              ]
            }
          ]
        }
      ],
      "parameters": []
    }
  ]
}